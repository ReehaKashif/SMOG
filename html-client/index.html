<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>AQI Punjab Dashboard</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
      name="viewport"
    />
    <!-- Bootstrap 3.3.7 -->
    <link
      rel="stylesheet"
      href="bower_components/bootstrap/dist/css/bootstrap.min.css"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="bower_components/font-awesome/css/font-awesome.min.css"
    />
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/AdminLTE.css" />
    <link rel="stylesheet" href="dist/css/skins/_all-skins.css" />
    <!-- Morris chart -->
    <link rel="stylesheet" href="bower_components/morris.js/morris.css" />
    <!-- jvectormap -->
    <link
      rel="stylesheet"
      href="bower_components/jvectormap/jquery-jvectormap.css"
    />
    <!-- Date Picker -->
    <link
      rel="stylesheet"
      href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css"
    />
    <!-- Daterange picker -->
    <link
      rel="stylesheet"
      href="bower_components/bootstrap-daterangepicker/daterangepicker.css"
    />
    <!-- bootstrap wysihtml5 - text editor -->
    <link
      rel="stylesheet"
      href="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css"
    />
    <link rel="stylesheet" href="./dist/css/style.css" />
    <!-- Leaflet Libs -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <!-- ShapeFile Lib -->
    <script src="https://unpkg.com/shapefile@0.6.6/dist/shapefile.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic"
    />
  </head>
  <body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">
      <header class="main-header">
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top">
          <!-- Logo -->
          <a href="#" class="logo">
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <span class="logo-mini"><b>A</b>LT</span>
            <!-- logo for regular state and mobile devices -->
            <img
              src="dist/img/logo.png"
              class="logo-image w-[100px] h-[80px] rounded-full"
            />
            <p class="uppercase">
              Punjab Information
              <br />
              Technology Board
              <br />
              <span>GOVERNMENT OF THE PUNJAB</span>
            </p>
          </a>

          <div class="navbar-custom-menu hidden">
            <ul class="nav navbar-nav">
              <!-- Notifications: style can be found in dropdown.less -->
              <li class="dropdown notifications-menu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <i class="fa fa-bell-o"></i>
                  <span class="label label-warning">10</span>
                </a>
                <ul class="dropdown-menu">
                  <li class="header">You have 10 notifications</li>
                  <li>
                    <!-- inner menu: contains the actual data -->
                    <ul class="menu">
                      <li>
                        <a href="#">
                          <i class="fa fa-users text-aqua"></i> 5 new members
                          joined today
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <i class="fa fa-warning text-yellow"></i> Very long
                          description here that may not fit into the page and
                          may cause design problems
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <i class="fa fa-users text-red"></i> 5 new members
                          joined
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <i class="fa fa-shopping-cart text-green"></i> 25
                          sales made
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <i class="fa fa-user text-red"></i> You changed your
                          username
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class="footer"><a href="#">View all</a></li>
                </ul>
              </li>
              <!-- Messages: style can be found in dropdown.less-->
              <li class="dropdown messages-menu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <i class="fa fa-envelope-o"></i>
                  <span class="label label-success">4</span>
                </a>
                <ul class="dropdown-menu">
                  <li class="header">You have 4 messages</li>
                  <li>
                    <!-- inner menu: contains the actual data -->
                    <ul class="menu">
                      <li>
                        <!-- start message -->
                        <a href="#">
                          <div class="pull-left">
                            <img
                              src="dist/img/user2-160x160.jpg"
                              class="img-circle"
                              alt="User Image"
                            />
                          </div>
                          <h4>
                            Support Team
                            <small><i class="fa fa-clock-o"></i> 5 mins</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <!-- end message -->
                      <li>
                        <a href="#">
                          <div class="pull-left">
                            <img
                              src="dist/img/user3-128x128.jpg"
                              class="img-circle"
                              alt="User Image"
                            />
                          </div>
                          <h4>
                            AdminLTE Design Team
                            <small><i class="fa fa-clock-o"></i> 2 hours</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <div class="pull-left">
                            <img
                              src="dist/img/user4-128x128.jpg"
                              class="img-circle"
                              alt="User Image"
                            />
                          </div>
                          <h4>
                            Developers
                            <small><i class="fa fa-clock-o"></i> Today</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <div class="pull-left">
                            <img
                              src="dist/img/user3-128x128.jpg"
                              class="img-circle"
                              alt="User Image"
                            />
                          </div>
                          <h4>
                            Sales Department
                            <small
                              ><i class="fa fa-clock-o"></i> Yesterday</small
                            >
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                      <li>
                        <a href="#">
                          <div class="pull-left">
                            <img
                              src="dist/img/user4-128x128.jpg"
                              class="img-circle"
                              alt="User Image"
                            />
                          </div>
                          <h4>
                            Reviewers
                            <small><i class="fa fa-clock-o"></i> 2 days</small>
                          </h4>
                          <p>Why not buy a new awesome theme?</p>
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class="footer"><a href="#">See All Messages</a></li>
                </ul>
              </li>
              <!-- User Account: style can be found in dropdown.less -->
              <li class="dropdown user user-menu">
                <a
                  href="#"
                  class="dropdown-toggle admin"
                  data-toggle="dropdown"
                >
                  <img
                    src="dist/img/logo.svg"
                    class="user-image"
                    alt="User Image"
                  />
                  <span class="hidden-xs">Admin PITB</span>
                  <i class="fa fa-angle-down"></i>
                </a>
                <ul class="dropdown-menu">
                  <!-- User image -->
                  <li class="user-header">
                    <img
                      src="dist/img/logo.svg"
                      class="img-circle bg-white"
                      alt="User Image"
                    />
                    <p>
                      Admin - PITB
                      <small>Member since Nov. 2012</small>
                    </p>
                  </li>
                  <!-- Menu Body -->
                  <li class="user-body">
                    <div class="row">
                      <div class="col-xs-4 text-center">
                        <a href="#">Details</a>
                      </div>
                      <div class="col-xs-4 text-center">
                        <a href="#">Details</a>
                      </div>
                      <div class="col-xs-4 text-center">
                        <a href="#">Details</a>
                      </div>
                    </div>
                    <!-- /.row -->
                  </li>
                  <!-- Menu Footer-->
                  <li class="user-footer">
                    <div class="pull-left">
                      <a href="#" class="btn btn-default btn-flat">Profile</a>
                    </div>
                    <div class="pull-right">
                      <a href="#" class="btn btn-default btn-flat">Sign out</a>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </nav>
      </header>
      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header heading-bg pt-8">
          <div
            class="flex flex-col items-start lg:flex-row lg:items-end gap-8 justify-between relative"
          >
            <div>
              <img src="dist/img/banner-icon.svg" alt="User Image" />

              <div class="flex items-center gap-4">
                <p class="text-4xl lg:text-6xl font-bold">AQI in</p>
                <p class="text-4xl lg:text-6xl font-bold">
                  <select
                    id="header-district-selector"
                    class="w-fit bg-transparent border-2 border-red-500 z-[1000] cursor-pointer"
                  ></select>
                </p>
                <p class="hidden text-4xl lg:text-6xl font-bold">Pakistan</p>
              </div>
            </div>
            <div
              class="w-full lg:w-fit relative -bottom-[230px] lg:-bottom-[200px] lg:absolute lg:right-1/2 lg:translate-x-1/2 order-2 lg:order-1"
            >
              <div class="speedometer">
                <!-- Numbers -->
                <div class="numbers hidden">
                  <span class="top-1/2 -left-10 -translate-y-[75%]">0</span>
                  <span
                    class="top-1/4 left-0 -translate-x-1/2 -translate-y-[75%]"
                    >50</span
                  >
                  <span class="-top-[10px] left-[calc(50%/3)]">100</span>
                  <span class="-top-[40px] left-1/2 -translate-x-1/2">150</span>
                  <span class="-top-[10px] right-[80px] translate-x-1/2"
                    >200</span
                  >
                  <span
                    class="top-1/4 right-0 translate-x-1/2 -translate-y-[75%]"
                    >300</span
                  >
                  <span
                    class="top-1/2 -right-10 translate-x-1/2 -translate-y-[75%]"
                    >500</span
                  >
                </div>

                <!-- Color Labels -->
                <div class="labels hidden">
                  <span class="top-1/2 -left-10 -translate-y-[75%]">Good</span>
                  <span class="-top-[10px] left-[calc(50%/3)] translate-x-1/2"
                    >Moderate</span
                  >
                  <span
                    class="top-1/4 left-0 -translate-x-1/2 -translate-y-[75%]"
                    >Unhealthy for Sensitive Groups</span
                  >
                  <span class="-top-[40px] left-1/2 -translate-x-1/2"
                    >Unhealthy</span
                  >
                  <span class="-top-[10px] right-[80px] translate-x-1/2"
                    >Very Unhealthy</span
                  >
                  <span
                    class="top-1/4 right-0 translate-x-1/2 -translate-y-[75%]"
                    >Hazardous</span
                  >
                  <span
                    class="top-1/2 -right-10 translate-x-1/2 -translate-y-[75%]"
                    >Very Hazardous</span
                  >
                </div>
                <!-- AQI METER -->
                <div
                  id="aqi-average-meter-neddle"
                  class="needle"
                  style="--score: 0"
                >
                  <span
                    id="aqi-average-meter"
                    class="aqi-average font-bold text-white text-3xl md:text-4xl pointer-events-none select-none"
                  ></span>
                </div>
              </div>
              <!-- <p
                id="aqi-average"
                class="hidden text-[80px] md:text-[100px] leading-[80px] md:leading-[100px] font-bold"
              >
                -
              </p> -->
            </div>
            <div class="order-1 lg:order-2">
              <p class="text-xl md:text-3xl">Current Time</p>
              <p id="current-hour" class="text-4xl lg:text-6xl font-bold"></p>
              <p id="current-date" class="text-4xl lg:text-6xl font-bold"></p>
            </div>
          </div>
        </section>

        <!-- Main content -->
        
          <div class="row">
            <div class="h-full">
              <div class="nav-tabs-custom legend-source-option">
                <!-- Tabs within a box -->
                <ul class="nav nav-tabs pull-right no-border mb20">
                  <li class="pull-left header">
                    <h3><span>Major Causes of Smog</span></h3>
                  </li>
                </ul>
                <div class="row mb20">
                  <section class="col-lg-12 cause-section">
                    <select id="pollutant-source-selector" class="form-control">
                      <option value="All">All</option>
                      <option value="Vehicle">Vehicles</option>
                      <option value="Industry">Industry</option>
                      <option value="Construction">Construction</option>
                      <option value="Agriculture">Agriculture</option>
                      <option value="Miscellaneous">Miscellaneous</option>
                    </select>
                  </section>
                  <section style="margin-top: 16px" class="col-lg-12">
                    <p
                      style="float: left; margin-right: 10px; line-height: 25px"
                    >
                      Sources:
                    </p>
                    <div class="industry-1 btn-flat flex items-center gap-4">
                      <img
                        src="dist/img/icon1.svg"
                        class="user-image"
                        alt="User Image"
                      />
                      Vehicle
                    </div>
                    <div class="industry-2 btn-flat flex item">
                      <img
                        src="dist/img/icon2.svg"
                        class="user-image"
                        alt="User Image"
                      />
                      Industry
                    </div>
                    <div class="industry-3 btn-flat flex item">
                      <img
                        src="dist/img/icon3.svg"
                        class="user-image"
                        alt="User Image"
                      />
                      Construction
                    </div>
                    <div
                      class="industry-4 btn-flat flex item"
                      style="background-color: #36454f50; border-color: #36454f"
                    >
                      <img
                        src="dist/img/icon4.svg"
                        class="user-image"
                        alt="User Image"
                      />
                      Agriculture
                    </div>
                    <div class="industry-5 btn-flat flex item">
                      <img
                        src="dist/img/icon5.svg"
                        class="user-image"
                        alt="User Image"
                      />
                      Miscellaneous
                    </div>
                  </section>
                </div>
                <!-- Forecast Chart -->
                <div>
                  <div
                    id="forecastMap"
                    style="height: 750px; position: relative"
                    class="w-full tab-content no-padding"
                  >
                    <section class="color-legend-on-map hidden">
                      <p class="legend">Legend</p>
                      <div class="legend-1">
                        <p class="flex">
                          <img
                            src="dist/img/icon1.svg"
                            class="user-image"
                            alt="User Image"
                          />
                          Vehicle
                        </p>
                        <div style="height: 20px"></div>
                      </div>
                      <div class="legend-1">
                        <p class="flex">
                          <img
                            src="dist/img/icon2.svg"
                            class="user-image"
                            alt="User Image"
                          />
                          Industry
                        </p>
                        <div style="height: 20px" class="two"></div>
                      </div>
                      <div class="legend-1">
                        <p class="flex">
                          <img
                            src="dist/img/icon3.svg"
                            class="user-image"
                            alt="User Image"
                          />
                          Construction
                        </p>
                        <div style="height: 20px" class="three"></div>
                      </div>
                      <div class="legend-1">
                        <p class="flex items-center gap-4">
                          <img
                            src="dist/img/icon4.svg"
                            class="user-image"
                            alt="User Image"
                          />
                          Agriculture
                        </p>
                        <div style="height: 20px" class="four"></div>
                      </div>
                      <div class="legend-1">
                        <p class="flex">
                          <img
                            src="dist/img/icon5.svg"
                            class="user-image"
                            alt="User Image"
                          />
                          Miscellaneous
                        </p>
                        <div style="height: 20px" class="five"></div>
                      </div>
                    </section>
                  </div>
                </div>
              </div>
            </div>

            <div class="h-full hidden">
              <div class="nav-tabs-custom legend-colour-code">
                <!-- Tabs within a box -->
                <ul class="nav nav-tabs pull-right no-border mb20">
                  <li class="pull-left header">
                    <h3><span>Legend</span> colour code</h3>
                  </li>
                </ul>
                <div class="row mb20">
                  <section class="col-lg-12">
                    <div class="legend-1">
                      <p class="flex">
                        <img
                          src="dist/img/icon1.svg"
                          class="user-image"
                          alt="User Image"
                        />
                        Vehicle
                      </p>
                      <div></div>
                    </div>
                    <div class="legend-1">
                      <p class="flex">
                        <img
                          src="dist/img/icon2.svg"
                          class="user-image"
                          alt="User Image"
                        />
                        Industry
                      </p>
                      <div class="two"></div>
                    </div>
                    <div class="legend-1">
                      <p class="flex">
                        <img
                          src="dist/img/icon3.svg"
                          class="user-image"
                          alt="User Image"
                        />
                        Construction
                      </p>
                      <div class="three"></div>
                    </div>
                    <div class="legend-1">
                      <p class="flex">
                        <img
                          src="dist/img/icon4.svg"
                          class="user-image"
                          alt="User Image"
                        />
                        Agriculture
                      </p>
                      <div class="four"></div>
                    </div>
                    <div class="legend-1">
                      <p class="flex">
                        <img
                          src="dist/img/icon5.svg"
                          class="user-image"
                          alt="User Image"
                        />
                        Miscellaneous
                      </p>
                      <div class="five"></div>
                    </div>
                  </section>
                </div>
              </div>
              <!-- /.nav-tabs-custom -->
            </div>
          </div>
          <!-- /.row (main row) -->
          <div class="row w-full h-full mx-auto">
            <img src="dist/img/bar.jpg" alt="map" class="w-full h-full" />
          </div>
        </section>
        <!-- /.content -->
      </div>
      <!-- /.content-wrapper -->
      <footer class="main-footer">
        <strong>
          Copyright &copy; 2024-2025 <a href="#">Powered By Punjab IT Board</a>
        </strong>
      </footer>
    </div>
    <!-- ./wrapper -->

    <!-- jQuery 3 -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
      $.widget.bridge("uibutton", $.ui.button);
    </script>
    <!-- Bootstrap 3.3.7 -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- Morris.js charts -->
    <script src="bower_components/raphael/raphael.min.js"></script>
    <script src="bower_components/morris.js/morris.min.js"></script>
    <!-- Sparkline -->
    <script src="bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
    <!-- jvectormap -->
    <script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
    <script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="bower_components/jquery-knob/dist/jquery.knob.min.js"></script>
    <!-- daterangepicker -->
    <script src="bower_components/moment/min/moment.min.js"></script>
    <script src="bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
    <!-- datepicker -->
    <script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <!-- Bootstrap WYSIHTML5 -->
    <script src="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
    <!-- Slimscroll -->
    <script src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
    <!-- FastClick -->
    <script src="bower_components/fastclick/lib/fastclick.js"></script>
    <!-- AdminLTE App -->
    <script src="dist/js/adminlte.min.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="dist/js/pages/dashboard.js"></script>
    <!-- Chart.Js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="dist/js/demo.js"></script>
    <!-- CUSTOM SCRIPTS START HERE -->
    <!-- Custom Script to handle Shapes on Map -->
    <script src="dist/js/lib/shapefile.js"></script>
    <script src="dist/js/lib/pollutant-data.js"></script>
    <script src="dist/js/lib/pollutant-calculations.js"></script>
    <script src="dist/js/api/index.js"></script>
    <script src="dist/js/api/chart.js"></script>
    <script src="dist/js/api/district.js"></script>
    <script src="dist/js/api/map.js"></script>
  <body class="hold-transition skin-blue sidebar-mini">
  <div class="wrapper">
    <header class="main-header">
      <nav class="navbar navbar-static-top">
        <a href="#" class="logo">
          <span class="logo-mini"><b>A</b>LT</span>
          <img src="dist/img/logo.png" class="logo-image w-[100px] h-[80px] rounded-full" />
          <p class="uppercase">
            Punjab Information
            <br />
            Technology Board
            <br />
            <span>GOVERNMENT OF THE PUNJAB</span>
          </p>
        </a>
      </nav>
    </header>

    <div class="content-wrapper">
      <!-- Date Picker for selecting the date -->
      <div class="container mt-5">
        <div class="form-group text-center">
          <label for="date-picker" class="h4">Select Date:</label>
          <input type="date" id="date-picker" class="form-control w-25 mx-auto" />
        </div>
      </div>

      <!-- Main content - Map -->
      <div class="container mt-4">
        <div id="forecastMap" style="height: 750px;"></div>
      </div>
    </div>

    <!-- jQuery 3 -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Include your map.js functionality here -->
    <script src="dist/js/lib/map.js"></script>

    <script>
      // Initialize the map from map.js
      $(document).ready(function () {
        // Initially load the map with white-colored district boundaries
        initializeMapWithWhiteBoundaries();

        // Event listener for date picker change
        $('#date-picker').on('change', function () {
          const selectedDate = $(this).val();
          if (selectedDate) {
            updateDistrictData(selectedDate);
          }
        });
      });

      function initializeMapWithWhiteBoundaries() {
        // Set all district boundaries to white color initially
        // Replace this with your logic to color the districts initially white
        const districts = Object.keys(districtCoordinates);

        districts.forEach((district) => {
          // Here you can set the boundaries with white color
          L.polygon(districtCoordinates[district], { color: 'white' }).addTo(map);
        });
      }
    </script>
  </body></body>
</html>
